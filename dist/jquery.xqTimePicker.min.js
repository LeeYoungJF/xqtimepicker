/*!
 * jquery.xqTimePicker v1.0.0
 * Copyright 2019 xieqian.
 * Licensed under the MIT license
 */
"use strict";!function(t,s,i){var e="xq-",n="xqTimePicker"+Math.random().toString().slice(2,12),c=null,o=!1;function a(){u.show(),u.setValue(),u.location()}function r(){l.getTimePicker().hide(),o=!1}s.extend({$timePicker:function(t){console.log(t)}}),s.fn.extend({timePicker:function(t){console.log("option",t),this.each(function(){s(this).on("click",function(){c=this,a(),a.call(this)})})}});var u={show:function(){if(0===l.getTimePicker().length){var t=h.get();s("body").append(t),f.init()}},reset:function(){l.getTimePicker().find(".active").removeClass("active"),l.getTimePickerHour().scrollTop(0),l.getTimePickerMinute().scrollTop(0)},setValue:function(){var t=s(c).val();this.reset(),/^\d{2}:\d{2}$/.test(t)&&this.setStatus(t)},setStatus:function(t){var i=t.split(":"),n=i[0],e=i[1],c=l.getTimePickerHour().find("li:contains(".concat(n,")")),o=l.getTimePickerMinute().find("li:contains(".concat(e,")"));c.addClass("active"),o.addClass("active"),this.scrollFixedPositionByElement(c),this.scrollFixedPositionByElement(o)},scrollFixedPositionByElement:function(t){var i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=s(t),e=n.index(),c=n[0].scrollHeight,o=c*e-3*c;n.parent().animate({scrollTop:o},i?300:0)},location:function(){var t=u.getMaxZIndex();l.getTimePicker().css({display:"block",zIndex:t+100}),this.locationPosition(),o=!0},locationPosition:function(){var t=c.offsetLeft,i=c.offsetTop+c.offsetHeight+5;l.getTimePicker().css({left:t,top:i})},getMaxZIndex:function(){return Math.max.apply(null,s.map(s("body *"),function(t,i){return"static"!=s(t).css("position")?parseInt(s(t).css("z-index"))||1:-1}))}},l={getTimePickerHour:function(){return this.getTimePicker().find(".".concat(e,"time-picker-hour"))},getTimePickerMinute:function(){return this.getTimePicker().find(".".concat(e,"time-picker-minute"))},getTimePicker:function(){return s("#".concat(n))}},h={get:function(){var t=[];return t.push('<div id="'.concat(n,'" class="').concat(e,'time-picker">')),t.push(this.header()),t.push(this.body()),t.push(this.footer()),t.push("</div>"),t.join("")},header:function(){var t=[];return t.push('<div class="'.concat(e,'time-picker-header">')),t.push("<span>时</span>"),t.push("<span>分</span>"),t.push("</div>"),t.join("")},body:function(){var t=[];return t.push('<div class="'.concat(e,'time-picker-body">')),t.push(this.hour()),t.push(this.minute()),t.push("</div>"),t.join("")},footer:function(){var t=[];return t.push('<div class="'.concat(e,'time-picker-footer">')),t.push(this.button("取消","cancel")),t.push(this.button("现在","now")),t.push(this.button("确认","ok")),t.push("</div>"),t.join("")},hour:function(t){var i=[];i.push('<ul class="'.concat(e,'time-picker-hour">'));for(var n=0;n<24;n++)n===t?i.push('<li class="active">'.concat(m.formatTime(n),"</li>")):i.push("<li>".concat(m.formatTime(n),"</li>"));return i.push("</ul>"),i.join("")},minute:function(t){var i=[];i.push('<ul class="'.concat(e,'time-picker-minute">'));for(var n=0;n<60;n++)n===t?i.push('<li class="active">'.concat(m.formatTime(n),"</li>")):i.push("<li>".concat(m.formatTime(n),"</li>"));return i.push("</ul>"),i.join("")},button:function(t,i){return'<button class="'.concat(e,"time-picker-button ").concat(i,'" data-type="').concat(i,'">').concat(t,"</button>")}},f={init:function(){var i=this;s(window).resize(function(){o&&u.locationPosition()}),l.getTimePicker().find(".".concat(e,"time-picker-body")).hover(function(){s(this).addClass("hover")},function(){s(this).removeClass("hover")}),s("#".concat(n," .").concat(e,"time-picker-button")).click(function(){var t=s(this).data("type");i[t]&&i[t].call(this)}),s("#".concat(n," .").concat(e,"time-picker-body")).on("click","li",function(){s(this).addClass("active").siblings().removeClass("active"),u.scrollFixedPositionByElement(this,!0)})},cancel:function(){r()},now:function(){s(c).val(m.getNowTime()),r()},ok:function(){var t=f,i=t.getHour(),n=t.getMinute();s(c).val("".concat(i,":").concat(n)),r()},getHour:function(){var t=s("#".concat(n," .").concat(e,"time-picker-hour li.active"));return 0<t.length?s(t).html():"00"},getMinute:function(){var t=s("#".concat(n," .").concat(e,"time-picker-minute li.active"));return 0<t.length?s(t).html():"00"}},m={formatTime:function(t){return("0000"+t.toString()).slice(-2)},getNowTime:function(){var t=new Date;return"".concat(this.formatTime(t.getHours()),":").concat(this.formatTime(t.getMinutes()))}}}(window,jQuery);